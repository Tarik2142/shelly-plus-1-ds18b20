# Наступні дії вимагають перепрошивки пристрою на стронню прошивку! **Ви виконуєте це на свій ризик!**
## Прекомпілена прошивка
Прекомпілена прошивка доступна в каталогу /firmware<br>
- прошивка має налаштований термостат для увімкнення реле по температурі з датчика і працює на нагрів.
- сетпоінт: 1 - 30 градусів.
- температура читається кожні 2 секунди.
- точка доступу вайфай завжди активна (для автономної роботи)
- SSID: ```Termostat```
- пароль ```termo2025```

Скриншот інтерфейсу пристрою:<br>
<img src="./img/shelly_plus_1_esphome_webserver.png?raw=true" width=650px/>

## Перепрошивка пристрою
### Підготовка до перепрошивки
Придбайте USB-TTL конвертор на CP2102.<br>
<img src="./img/usb_ttl.jpg?raw=true" width=650px/><br>
Підключіть його по схемі на картинці нижче:<br>
<img src="./img/shelly_plus_1_flashing_wiring.jpg?raw=true" width=650px/><br>
Я припаяв провідники але ви можете використати штатний роз'єм і навіть не розбирати пристрій.<br>
**ЗВЕРНІТЬ УВАГУ!** Вам потрібно замкнути (на роз'ємі shelly) перемичкою GND та IO0 (пін біля GND) для прошивки пристрою.

### Прошивка пристрою
- підключіть USB-TTL адаптер (з підключеним до нього пристроєм) до вашого ПК
- запустіть інструмент для прошивки ESP32 (наприклад [https://github.com/esphome/esphome-flasher/releases/tag/1.4.0](https://github.com/esphome/esphome-flasher/releases/tag/1.4.0))
- виберіть серіал порт вашого USB-TTL конвертора
- виберіть прошивку завантажену з цього репозиторію
- натисніть кнопку "Flash ESP"
- дочекайтесь закінчення прошивки

# Підключення DS18b20
Схема підключення доступна на картинці нижче:<br>
<img src="./img/shelly_plus_1_ds18b20_wiring.jpg?raw=true" width=650px/><br>
Я припаяв датчик але ви можете обійтись без пайки і використати штатний роз*єм.<br>
**ЗВЕРНІТЬ УВАГУ!** Вам потрібно додати резистор 4.7K між даталінією та живленням датчика!<br>
Фінальний варіант виглядає так:<br>
<img src="./img/shelly_plus_1_ds18b20_final_wiring.jpg?raw=true" width=650px/><br>

# Самостійна компіляція
**Якщо ви не знаєте як скомпілювати прошивку - зверніться до будь-якого гайду компіляції прошивки ESPHOME**<br>
Конфіг esphome доступний в каталогу /esphome_config